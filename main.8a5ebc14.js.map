{"version":3,"sources":["scripts/main.js"],"names":["tableBody","document","querySelector","tableHead","body","insertAdjacentHTML","form","transformToNumber","salary","Number","replace","split","join","pushNotification","title","description","type","message","createElement","append","setAttribute","setTimeout","remove","addEventListener","e","preventDefault","data","FormData","newRow","key","value","length","cell","textContent","Intl","NumberFormat","format","reset","target","initialValue","cellInput","className","name","focus","handler","targetIndex","cellIndex","inputValue","code","rowsInBody","children","cellsInHead","index","querySelectorAll","findIndex","item","classList","contains","sort","a","b","add","localeCompare","forEach","row","selectedRow","parentElement","toggle","some"],"mappings":"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","file":"main.8a5ebc14.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableBody = document.querySelector('tbody');\nconst tableHead = document.querySelector('thead');\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form\n    action=\"#\"\n    method=\"get\"\n    class=\"new-employee-form\"\n  >\n    <label>\n      Name:\n      <input name = \"name\" type = \"text\" data-qa = \"name\"></input>\n    </label>\n\n    <label>\n      Position:\n      <input\n        name = \"position\"\n        type = \"text\"\n        data-qa = \"position\"\n      ></input>\n    </label>\n\n    <label>\n      Office:\n      <select name = \"office\" data-qa = \"office\">\n        <option value = \"Tokyo\">Tokyo</option>\n        <option value = \"Singapore\">Singapore</option>\n        <option value = \"London\">London</option>\n        <option value = \"New York\">New York</option>\n        <option value = \"Edinburgh\">Edinburgh</option>\n        <option value = \"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>\n      Age:\n      <input\n        name = \"age\"\n        type = \"number\"\n        data-qa = \"age\"\n        min = \"0\"\n      ></input>\n    </label>\n\n    <label>\n      Salary:\n        <input\n        name = \"salary\"\n        type = \"number\"\n        data-qa = \"salary\"\n        min = \"0\"\n      ></input>\n    </label>\n\n    <button type = \"submit\">Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('.new-employee-form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const newRow = document.createElement('tr');\n\n  for (const [key, value] of data) {\n    if (!value) {\n      pushNotification('An error occured', 'Please fill all inputs', 'error');\n\n      return;\n    }\n\n    if (key === 'name' && value.length < 4) {\n      pushNotification('An error occured', 'Invalid name value', 'error');\n\n      return;\n    }\n\n    if (key === 'position' && value.length < 4) {\n      pushNotification('An error occured', 'Invalid position value', 'error');\n\n      return;\n    }\n\n    if (key === 'age' && (Number(value) < 18 || Number(value) > 90)) {\n      pushNotification('An error occured', 'Invalid age value', 'error');\n\n      return;\n    }\n\n    const cell = document.createElement('td');\n\n    if (key === 'salary') {\n      cell.textContent = `$${Intl.NumberFormat('en-US').format(Number(value))}`;\n    } else {\n      cell.textContent = value;\n    }\n\n    newRow.append(cell);\n  }\n\n  tableBody.append(newRow);\n  form.reset();\n  pushNotification('You do it!', 'Your data wad added to table', 'success');\n});\n\ntableBody.addEventListener('dblclick', (e) => {\n  const target = e.target;\n  const initialValue = target.textContent;\n\n  const cellInput = document.createElement('input');\n\n  cellInput.className = 'cell-input';\n  cellInput.name = 'cell';\n  cellInput.type = 'text';\n\n  target.textContent = '';\n  target.append(cellInput);\n  cellInput.focus();\n\n  cellInput.addEventListener('keydown', (handler) => {\n    const targetIndex = target.cellIndex;\n    const inputValue = cellInput.value;\n\n    if (handler.code === 'Enter') {\n      if (!inputValue) {\n        cellInput.remove();\n        target.textContent = initialValue;\n\n        return;\n      }\n\n      if (\n        (targetIndex === 0 && inputValue.length < 4)\n        || (targetIndex === 3\n          && (inputValue < 18 || inputValue > 90))\n        || (targetIndex === 4 && inputValue < 0)\n      ) {\n        pushNotification('Error occured', 'You enter invalid data', 'error');\n\n        return;\n      }\n\n      cellInput.remove();\n\n      pushNotification('Success',\n        'Value in the table was changed', 'success');\n\n      if (target.cellIndex === 4) {\n        target.textContent\n        = `$${Intl.NumberFormat('en-US').format(Number(cellInput.value))}`;\n      } else {\n        target.textContent = cellInput.value;\n      }\n    }\n  });\n\n  cellInput.addEventListener('blur', () => {\n    const targetIndex = target.cellIndex;\n    const inputValue = cellInput.value;\n\n    if (!inputValue) {\n      cellInput.remove();\n      target.textContent = initialValue;\n\n      return;\n    }\n\n    if (\n      (targetIndex === 0 && inputValue.length < 4)\n      || (targetIndex === 3\n        && (inputValue < 18 || inputValue > 90))\n      || (targetIndex === 4 && inputValue < 0)\n    ) {\n      pushNotification('Error occured', 'You enter invalid data', 'error');\n\n      return;\n    }\n\n    cellInput.remove();\n\n    pushNotification('Success',\n      'Value in the table was changed', 'success');\n\n    if (target.cellIndex === 4) {\n      target.textContent\n      = `$${Intl.NumberFormat('en-US').format(Number(cellInput.value))}`;\n    } else {\n      target.textContent = cellInput.value;\n    }\n  });\n});\n\ntableHead.addEventListener('click', (e) => {\n  const target = e.target;\n\n  const rowsInBody = [...tableBody.children];\n  const cellsInHead = tableHead.children[0].children;\n\n  const index = [...document.querySelectorAll('th')]\n    .findIndex(item => item === target);\n\n  switch (index) {\n    case 3:\n      if (!target.classList.contains('sorted')) {\n        rowsInBody.sort((a, b) => {\n          return Number(a.children[index].textContent)\n            - Number(b.children[index].textContent);\n        });\n\n        target.classList.add('sorted');\n      } else {\n        rowsInBody.sort((a, b) => {\n          return Number(b.children[index].textContent)\n            - Number(a.children[index].textContent);\n        });\n\n        target.classList.remove('sorted');\n      }\n      break;\n\n    case 4:\n      if (!target.classList.contains('sorted')) {\n        rowsInBody.sort((a, b) => {\n          return transformToNumber(a.children[index].textContent)\n            - transformToNumber(b.children[index].textContent);\n        });\n\n        target.classList.add('sorted');\n      } else {\n        rowsInBody.sort((a, b) => {\n          return transformToNumber(b.children[index].textContent)\n            - transformToNumber(a.children[index].textContent);\n        });\n\n        target.classList.remove('sorted');\n      }\n      break;\n\n    default:\n      if (!target.classList.contains('sorted')) {\n        rowsInBody.sort((a, b) => {\n          return a.children[index].textContent\n            .localeCompare(b.children[index].textContent);\n        });\n\n        target.classList.add('sorted');\n      } else {\n        rowsInBody.sort((a, b) => {\n          return b.children[index].textContent\n            .localeCompare(a.children[index].textContent);\n        });\n\n        target.classList.remove('sorted');\n      }\n      break;\n  }\n\n  rowsInBody.forEach(row => {\n    tableBody.append(row);\n  });\n\n  [...cellsInHead].forEach(cell => {\n    if (cell !== target) {\n      cell.classList.remove('sorted');\n    }\n  });\n});\n\ntableBody.addEventListener('click', (e) => {\n  const selectedRow = e.target.parentElement;\n  const rowsInBody = [...tableBody.children];\n\n  selectedRow.classList.toggle('active', !rowsInBody.some(row => {\n    return row.classList.contains('active');\n  }));\n});\n\nfunction transformToNumber(salary) {\n  return Number(salary.replace('$', '').split(',').join(''));\n}\n\nfunction pushNotification(title, description, type) {\n  const message = document.createElement('div');\n\n  document.body.append(message);\n\n  message.setAttribute('class', `notification ${type}`);\n  message.setAttribute('data-qa', 'notification');\n\n  message.insertAdjacentHTML('afterbegin', `\n    <h2 class = \"title\">${title}</h2>\n    <p>${description}</p>\n  `);\n\n  setTimeout(() => message.remove(), 2000);\n}\n"]}